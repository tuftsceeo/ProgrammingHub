<html>
<body style="width:960px; margin: 20px auto;">
<aside style="float:right;width:500px;">
 <br><br><br><form id="command" action="/EnterCommand" method="POST" onkeydown="PressEnter(event,'command')">
 <textarea rows="21" cols="80" name = "TerminalWindow" placeholder="Terminal Window Will Activate When EV3 is Connected">%s</textarea><br>
 <input type="submit" id="SendCommand" name="SendCommand" value="Send Command" hidden="hidden">
 <input type="text" name="SendCommand" value="" hidden="hidden">
 </form>
<form action="/" method="POST">
     <input type="submit" name="Clear" value="Clear Terminal">
 </form>
</aside>
<h1>Programming Hub</h1>
<h4 id = "page">%s</h4>
<script>
var x = document.getElementById('page').innerHTML;
// alert(x); // Check that the innerHTML is correct
document.getElementById('pageSelect').value = x; // Why isn't this working
</script>
<form id = "pageForm" action="/Page" method="POST" onchange="submit('pageForm')">
  <span>Select a page: </span>
  <select id="pageSelect" name = "page">
    <option value="simplePage">Simple Page</option>
    <option value="page2">Page 2</option>
  </select>
  <input id="submitpage" type="submit" hidden="hidden">
 </form>
<script>
function PressEnter(e,FormID) {
  // If Enter is Pressed
  if ( (window.event ? event.keyCode : e.which) == 13) {
    // Submit the Form
    document.getElementById(FormID).submit();
  }
}
function setValue() {
    var x = document.getElementById('page').innerHTML;
    var index = 1;
    if (x == simplePage) {
      index=1;
  } else if (x == page2) {
      index=1;
  } else {
      index=2;
  }
    alert(index);
    // This line isn't working
    document.getElementById("pageSelect").selectedIndex = index;
}
function submit(FormID) {
    document.getElementById(FormID).submit();
}
// getValue used to test the ability to get the value of the selected page
 function getValue() {
   var x = document.getElementById("pageSelect").selectedIndex;
   alert(document.getElementsByTagName("option")[x].value);
 }
</script>